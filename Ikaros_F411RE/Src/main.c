/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Auto-generated by STM32CubeIDE
 * @brief          : Main program body
 ******************************************************************************
 * @attention
 *
 * Copyright (c) 2023 STMicroelectronics.
 * All rights reserved.
 *
 * This software is licensed under terms that can be found in the LICENSE file
 * in the root directory of this software component.
 * If no LICENSE file comes with this software, it is provided AS-IS.
 *
 ******************************************************************************
 */
#include "system_settings.h"
#include "gpios.h"
//#include "stepper_motor.h"
//#include "keypad_4x4.h"
//#include "timers.h"
#include "lcd.h"


#if !defined(__SOFT_FP__) && defined(__ARM_FP)
  #warning "FPU is not initialized, but the project is compiling for an FPU. Please initialize the FPU before use."
#endif

uint32_t data_keypad=0;
uint8_t letraA[] = "hola";
uint8_t letraB[] = "3";


int main(void){
	lcd_init(lcd_PortB);
	uint8_t longitude = (sizeof(letraA)/sizeof(letraA[0]))-1;
	uint8_t longitude2 = (sizeof(letraB)/sizeof(letraB[0]))-1;



//	SetPinMode(Port_A, Pin_5, Output);

	//	TIM5_Init(1000000);
//	Init_keypad(keypad_PortA);

	while(1){
//		data_keypad = Read_keypad(keypad_PortA);

	lcd_print(letraA, &longitude);
		Delay(1000000);
	lcd_print(letraB, &longitude2);
			Delay(1000000);

//		GPIO_DigitalWrite(Port_A, Pin_5, High);
//
//		Delay(500000);
//
//		GPIO_DigitalWrite(Port_A, Pin_5, Low);
//		Delay(500000);

	}
//	TIM5_Deinit();
	return 0;
}

//int main(void){
//
//	SetPinMode(Port_B, Pin_9, Input);
//	SetPinMode(Port_A, Pin_5, Output);
//	GPIO_DigitalWrite(Port_A, Pin_5, High);
//	GPIO_DigitalWrite(Port_A, Pin_5, Low);
//
//	GpioPullUpDownState(Port_B, Pin_9, Pull_Up);
//
//	while(1){
//
//		if(GPIO_DigitalRead(Port_B,Pin_9) == Low){
//
//			GPIO_DigitalWrite(Port_A, Pin_5, High);
//
//			while(GPIO_DigitalRead(Port_B,Pin_9) == Low){
//
//			}
//		}else{
//			GPIO_DigitalWrite(Port_A, Pin_5, Low);
//
//		}
//
//	}
//	return 0;
//}




//example for GPIOS and stepper_motor

//int main(void)
//{
//
//	SetPinMode(Port_B, Pin_8, Output);
//	SetPinMode(Port_B, Pin_9, Output);
//	SetPinMode(Port_C, Pin_13, Input);
//
//
////	Init_8bits_Stepper_Motor();
////	uint8_t sec_8bit_linea[16]={129,128,192,64,96,32,48,16,24,8,12,4,6,2,3,1};
////	int8_t start_8bit=15;
//
//	Init_4bits_Stepper_Motor(PortA_Op1);
//	Init_4bits_Stepper_Motor(PortA_Op2);
//
//
//	uint8_t sec_4bit_linea[8]={9,8,12,4,6,2,3,1};
//	int8_t start_4bit=7;
//	int8_t start_4bit2=7;
//
//	uint8_t sentido =0;
//
//	while(1){
//
//		if(GPIO_DigitalRead(Port_C,Pin_13) == Low){
//
//			GPIO_DigitalWrite(Port_B, Pin_8, sentido);
//			GPIO_DigitalWrite(Port_B, Pin_9, !sentido);
//			sentido = !sentido;
//			while(GPIO_DigitalRead(Port_C,Pin_13) == Low){
//
//			}
//		}
//
//		if(sentido==0){
//			Write_4bits_Stepper_Motor(PortA_Op1,sec_4bit_linea[start_4bit]);
//			Write_4bits_Stepper_Motor(PortA_Op2,sec_4bit_linea[start_4bit2]);
//			start_4bit++;
//			if(start_4bit>7){
//				start_4bit=0;
//			}
//
//			start_4bit2--;
//			if(start_4bit2<0){
//				start_4bit2=7;
//			}
//			Delay(30);
//		}else{
//			Write_4bits_Stepper_Motor(PortA_Op1,sec_4bit_linea[start_4bit]);
//			Write_4bits_Stepper_Motor(PortA_Op2,sec_4bit_linea[start_4bit2]);
//			start_4bit--;
//			if(start_4bit<0){
//				start_4bit=7;
//			}
//
//			start_4bit2++;
//			if(start_4bit2>7){
//				start_4bit2=0;
//			}
//			Delay(30);
//		}
//
//	};
//
//}
//
//
